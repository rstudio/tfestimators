<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Experiment constructor — experiment.tf_model • tfestimators</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">tfestimators</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Using
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Getting Started</li>
    <li>
      <a href="../articles/using_estimators.html">Using Estimators</a>
    </li>
    <li>
      <a href="../articles/input_functions.html">Input Functions</a>
    </li>
    <li>
      <a href="../articles/feature_columns.html">Feature Columns</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/experiments.html">Experiments</a>
    </li>
    <li>
      <a href="../articles/run_hooks.html">Run Hooks</a>
    </li>
    <li>
      <a href="../articles/creating_estimators.html">Creating Estimators - Abalone Age Predictor Example</a>
    </li>
    <li>
      <a href="../articles/tensorboard.html">TensorBoard Visualization</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/examples/index.html">Examples</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/tfestimators">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Experiment constructor</h1>
    </div>

    
    <p>An Experiment contains all information needed to train a model. After an
experiment is created (by passing an Estimator and inputs for training and
evaluation), an Experiment instance knows how to invoke training and eval
loops in a sensible fashion for distributed training.</p>
    

    <pre class="usage"><span class='co'># S3 method for tf_model</span>
<span class='fu'>experiment</span>(<span class='no'>object</span>, <span class='no'>train_input_fn</span>, <span class='no'>eval_input_fn</span>,
  <span class='kw'>train_steps</span> <span class='kw'>=</span> <span class='fl'>2L</span>, <span class='kw'>eval_steps</span> <span class='kw'>=</span> <span class='fl'>2L</span>, <span class='kw'>eval_metrics</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>train_monitors</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>eval_hooks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>local_eval_frequency</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>eval_delay_secs</span> <span class='kw'>=</span> <span class='fl'>120L</span>, <span class='kw'>continuous_eval_throttle_secs</span> <span class='kw'>=</span> <span class='fl'>60L</span>,
  <span class='kw'>min_eval_frequency</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>delay_workers_by_global_step</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>export_strategies</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>train_steps_per_iteration</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>train_input_fn</th>
      <td><p>function, returns features and labels for training.</p></td>
    </tr>
    <tr>
      <th>eval_input_fn</th>
      <td><p>function, returns features and labels for evaluation.
If<code>eval_steps</code> is <code>None</code>, this should be configured only to produce for a
finite number of batches (generally, 1 epoch over the evaluation data).</p></td>
    </tr>
    <tr>
      <th>train_steps</th>
      <td><p>Perform this many steps of training. <code>NULL</code>, the default,
means train forever.</p></td>
    </tr>
    <tr>
      <th>eval_steps</th>
      <td><p><code>evaluate</code> runs until input is exhausted (or another
exception is raised), or for <code>eval_steps</code> steps, if specified.</p></td>
    </tr>
    <tr>
      <th>eval_metrics</th>
      <td><p><code>list</code> of string, metric function. If <code>NULL</code>, default set
is used. This should be <code>NULL</code> if the <code>estimator</code> is
<code>tf.estimator.Estimator</code>. If metrics are provided they will be <em>appended</em>
to the default set.</p></td>
    </tr>
    <tr>
      <th>train_monitors</th>
      <td><p>A list of monitors to pass to the <code>Estimator</code>'s <code>fit</code>
function.</p></td>
    </tr>
    <tr>
      <th>eval_hooks</th>
      <td><p>A list of <code>SessionRunHook</code> hooks to pass to the
<code>Estimator</code>'s <code>evaluate</code> function.</p></td>
    </tr>
    <tr>
      <th>local_eval_frequency</th>
      <td><p>(applies only to local_run) Frequency of running
eval in steps. If <code>None</code>, runs evaluation only at the end of training.</p></td>
    </tr>
    <tr>
      <th>eval_delay_secs</th>
      <td><p>Start evaluating after waiting for this many seconds.</p></td>
    </tr>
    <tr>
      <th>continuous_eval_throttle_secs</th>
      <td><p>Do not re-evaluate unless the last
evaluation was started at least this many seconds ago for
continuous_eval().</p></td>
    </tr>
    <tr>
      <th>delay_workers_by_global_step</th>
      <td><p>if <code>TRUE</code> delays training workers based
on global step instead of time.</p></td>
    </tr>
    <tr>
      <th>export_strategies</th>
      <td><p>Iterable of <code>ExportStrategy</code>s, or a single one, or
<code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>train_steps_per_iteration</th>
      <td><p>(applies only to continuous_train_and_eval).
Perform this many (integer) number of train steps for each
training-evaluation iteration. With a small value, the model will be
evaluated more frequently with more checkpoints saved. If <code>NULL</code>, will use
a default value (which is smaller than <code>train_steps</code> if provided).</p></td>
    </tr>
    <tr>
      <th>min_eval_frequency:</th>
      <td><p>(applies only to train_and_evaluate). the minimum
number of steps between evaluations. Of course, evaluation does not occur
if no new snapshot is available, hence, this is the minimum. If 0, the
evaluation will only happen after training. If NULL, defaults to 1, unless
model_dir is on GCS, in which case the default is 1000.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other experiment methods: <code><a href='evaluate.tf_experiment.html'>evaluate.tf_experiment</a></code>,
  <code><a href='train.tf_experiment.html'>train.tf_experiment</a></code>,
  <code><a href='train_and_evaluate.tf_experiment.html'>train_and_evaluate.tf_experiment</a></code></p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Yuan Tang, JJ Allaire, <a href='https://www.rstudio.com'><img src='http://tidyverse.org/rstudio-logo.svg' height='24' /></a>, Kevin Ushey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
